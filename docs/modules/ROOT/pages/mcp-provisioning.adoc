:page-layout: default

= MCP provisioning for this workspace

Use this checklist to provision MCP servers safely, drawing from reputable curated lists and the existing profile fragments in `vscode/packs/*/mcp/`.

== Curated sources to pull candidates from

- https://github.com/punkpeye/awesome-mcp-servers[awesome-mcp-servers (punkpeye)]
- https://github.com/wong2/awesome-mcp-servers[awesome-mcp-servers (wong2)]
- https://github.com/appcypher/awesome-mcp-servers[awesome-mcp-servers (appcypher)]
- https://github.com/rohitg00/awesome-devops-mcp-servers[awesome-devops-mcp-servers]
- https://github.com/jaw9c/awesome-remote-mcp-servers[awesome-remote-mcp-servers]

== Recommended baseline servers (already defined in pack fragments)

- `sonatype-deps` — dependency/security intelligence.
- `context7-docs` — versioned library/framework docs.
- `github` — GitHub repo/PR/issue access.

== How to generate a local MCP configuration for this workspace

. From repo root, merge the desired fragments (example: base + QA):
+
[source,bash]
----
cd vscode
python scripts/merge-mcp-fragments.py core-base-dev qa-static-analysis gitops-code-review macos-apple-platforms
----

. This writes `vscode/codex-mcp.generated.toml` (ignored by git). Copy the `[mcp_servers.*]` blocks you want into your local `~/.codex/config.toml` (do **not** commit generated files).
. Fill in each server’s `command`/`args`/env placeholders per its upstream README. Keep secrets out of version control.

== Adding new servers safely

- Only add servers with clear provenance (official repositories or well-known vendors) and licences.
- Mark flags in JSON fragments: `optional` for non-essential/remote, `privacy-sensitive` if requests may leak code/data, `experimental` if beta.
- Place new entries in the appropriate `vscode/packs/<pack>/mcp/servers.<slug>.json` and re-run the merge command above.

== Suggested next candidates to consider (pending validation)

- DevOps/infra: pick 1–2 from `rohitg00/awesome-devops-mcp-servers` (e.g., cloud inventory/monitoring) and add to `servers.infra-devops.json` as optional + privacy-sensitive.
- Code search/insight: a GitHub- or sourcegraph-backed code search MCP (optional, privacy-sensitive) for `core-base-dev`/`gitops-code-review`.
- API/reference: a stable public docs MCP (read-only) for `qa-static-analysis`.

== Validation

- Keep `vscode/codex-mcp.generated.toml` out of git; rerun merge after JSON edits.
- Run `python scripts/validate_extensions.py` if updated scripts start validating MCP JSON (future-proof hook).
